{% extends "base.html" %}

{% block content %}
<div style="background: #f4f6f8; min-height: 100vh; padding: 40px; font-family: 'Segoe UI', Arial, sans-serif; color: #333;">
    <h2 style="font-size: 26px; font-weight: 700; margin-bottom: 25px;">Task Details</h2>

    <form method="POST" action="/update-task/{{ task.id }}" style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 30px; display: grid; grid-template-columns: 2fr 1fr; gap: 30px;">
        
        <!-- Left Column: Task Info -->
        <div>
            <label style="font-weight: 600; display:block; margin-bottom: 5px;">Title</label>
            <input type="text" name="Title" value="{{ task.Title }}" style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 4px;" />

            <label style="font-weight: 600; display:block; margin-bottom: 5px;">Assigned To</label>
            <input type="text" name="AssignedTo" value="{{ task.AssignedTo }}" style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 4px;" />

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                
                <!-- Left Sub-column -->
                <div>
                    <label style="font-weight: 600;">Priority</label>
                    <select name="Priority" style="width: 100%; padding: 10px; margin-bottom: 15px; border-radius: 4px; border:1px solid #ccc;">
                        <option value="Low" {% if task.Priority == 'Low' %}selected{% endif %}>Low</option>
                        <option value="Medium" {% if task.Priority == 'Medium' %}selected{% endif %}>Medium</option>
                        <option value="High" {% if task.Priority == 'High' %}selected{% endif %}>High</option>
                    </select>

                    <label>Status</label>
                    <input type="text" name="Status" value="{{ task.Status }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>Due Date</label>
                    <input type="date" name="DueDate" value="{{ task.DueDate }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>BCD</label>
                    <input type="datetime-local" name="BCD" value="{{ task.BCD }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>Attachments</label>
                    <select name="Attachments" style="width: 100%; padding: 10px; border-radius:4px; border:1px solid #ccc;">
                        <option value="Yes" {% if task.Attachments %}selected{% endif %}>Yes</option>
                        <option value="No" {% if not task.Attachments %}selected{% endif %}>No</option>
                    </select>
                </div>

                <!-- Right Sub-column -->
                <div>
                    <label>Author</label>
                    <input type="text" name="Author" value="{{ task.Author }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>Editor</label>
                    <input type="text" name="Editor" value="{{ task.Editor }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>End User</label>
                    <input type="text" name="EndUser" value="{{ task.EndUser }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>Submission Status</label>
                    <input type="text" name="SubmissionStatus" value="{{ task.SubmissionStatus }}" style="width: 100%; padding: 10px; margin-bottom: 15px; border:1px solid #ccc; border-radius:4px;" />

                    <label>Order Status</label>
                    <input type="text" name="OrderStatus" value="{{ task.OrderStatus }}" style="width: 100%; padding: 10px; border:1px solid #ccc; border-radius:4px;" />
                </div>
            </div>
        </div>

        <!-- Right Column: Comments Section -->
        <div style="border-left: 1px solid #eee; padding-left: 20px;">
            <label style="font-weight: 600; display:block; margin-bottom: 5px;">Comments</label>
            <textarea name="Comments" placeholder="@mention or comment" rows="15" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc;">{{ task.Comments }}</textarea>
            <div style="text-align: center; color: #aaa; font-size: 13px; margin-top: 10px;">
                ðŸ’¬ Be the first one to add a comment.
            </div>
        </div>

        <!-- Submit Button -->
        <div style="grid-column: span 2; text-align: right; margin-top: 25px;">
            <button type="submit" style="background: #28a745; color: white; padding: 12px 25px; border: none; border-radius: 4px; font-weight: 600; font-size: 15px;">
                Update Task
            </button>
        </div>

    </form>
</div>
{% endblock %}
